
CREATE DATABASE KENNYAIR_DB;
USE KENNYAIR_DB;

DROP TABLE IF EXISTS TUTORS;
DROP TABLE IF EXISTS STUDENTS;
DROP TABLE IF EXISTS LOCATION; 
DROP TABLE IF EXISTS AIRCRAFT;
DROP TABLE IF EXISTS FLIGHTS;



CREATE TABLE TUTORS (
 TUTOR_ID    		 CHAR(14) NOT NULL,
 FIRSTNAME		CHAR(14),
 SURNAME		CHAR(14),
 ADDRESS             		CHAR(14),
YRS_SERVICE		SMALLINT(4),
SALARY			INTEGER,
COMMISSION		INTEGER,
RANKING		CHAR(14),
LOCATION_ID    CHAR(14),

CONSTRAINT TUTORS_PRIMARY_KEY PRIMARY KEY (TUTOR_ID));



INSERT INTO TUTORS VALUES ('0001','BRENDAN', 'KENNY','LONGFORD', '5', '45000.00', '250', 'SENIOR','1011');
INSERT INTO TUTORS VALUES ('0002','OLIVER', 'KENNY','LONGFORD', '1',  '25000.00', '250','JUNIOR','2022');
INSERT INTO TUTORS VALUES ('0003','PATRICK', 'KENNY','LONGFORD', '5',  '45000.00', '250','SENIOR','3033');
INSERT INTO TUTORS VALUES ('0004','BERNARD', 'KENNEDY','LONGFORD', '1',  '25000.00', '250','JUNIOR','4044');
INSERT INTO TUTORS VALUES ('0005','JOHN', 'CLINTON','ATHLONE', '8',  '55000.00', '250','SENIOR','1011');
INSERT INTO TUTORS VALUES ('0006','EAMONN', 'DEVALERA','DUBLIN', '5', '45000.00', '250','SENIOR','1011');
INSERT INTO TUTORS VALUES ('0007','ALBERT', 'EINSTEIN','MULLINGAR', '1', '25000.00', '250','JUNIOR','2022');
INSERT INTO TUTORS VALUES ('0008','RICHARD', 'FEYNMAN','LONGFORD', '5', '45000.00', '250','SENIOR','3033');

CREATE TABLE STUDENTS (
 STUDENT_ID          	CHAR(14) NOT NULL,
 FIRSTNAME         	 	CHAR(14),
 SURNAME         		CHAR(14),
 ADDRESS 		 CHAR(14),
 PHONE_NO        		CHAR(14),
EMAIL        		CHAR(50),
TUTOR_ID		CHAR(14),
CONSTRAINT STUDENTS_FN_KEY FOREIGN KEY (TUTOR_ID) REFERENCES TUTORS(TUTOR_ID),
CONSTRAINT STUDENTS_PRIMARY_KEY PRIMARY KEY (STUDENT_ID));

INSERT INTO STUDENTS VALUES ('0011','RICHARD', 'KELLY', 'LONGFORD', '0876543219', 'rich123@gmail.com', '0008');
INSERT INTO STUDENTS VALUES ('0022','JOHN', 'NIXON', 'WEXFORD', '0835531155', 'john007@gmail.com', '0007');
INSERT INTO STUDENTS VALUES ('0033','PAUL', 'ARMSTRONG','MULLINGAR', '0876581199', 'parmstrong12@hotmail.com', '0006');
INSERT INTO STUDENTS VALUES ('0044','LUCY', 'CULLEN','ATHLONE', '0859943217', 'lucy00@gmail.com', '0004');



CREATE TABLE LOCATION (
 LOCATION_ID          		CHAR(14) NOT NULL,
 ADDRESS         	 		CHAR(14),
COUNTY				CHAR(14),
 PHONE_NO         			CHAR(14),
EMAIL         			CHAR(50),
TUTOR_ID			CHAR(14),
CONSTRAINT LOCATION_FN_KEY FOREIGN KEY (TUTOR_ID) REFERENCES TUTORS(TUTOR_ID),
CONSTRAINT LOCATION_PRIMARY_KEY PRIMARY KEY (LOCATION_ID));

INSERT INTO LOCATION VALUES ('1011','ABBEYSHRULE', 'LONGFORD', '0855566894', 'info@abbeyshrule.com', '0008');
INSERT INTO LOCATION VALUES ('2022','NEW ROSS', 'WEXFORD', '0865549988', 'info@newross.com', '0007');
INSERT INTO LOCATION VALUES ('3033','ARDILAUN','MULLINGAR', '0848897722', 'info@ardilaun.ie', '0006');
INSERT INTO LOCATION VALUES ('4044','GLASSON','ATHLONE', '0838889944', 'queries@glasson.ie', '0005');


drop TABLE AIRCRAFT;
CREATE TABLE AIRCRAFT (
 AIRCRAFT_ID          		CHAR(14) NOT NULL,
 MAKE         	 		CHAR(14),
MODEL				CHAR(14),
AGE				CHAR(14),
LOCATION_ID			CHAR(14),
SERVICE_DATE			DATE,


CONSTRAINT AIRCRAFT_FOREIGN_KEY FOREIGN KEY (LOCATION_ID) REFERENCES LOCATION (LOCATION_ID),
CONSTRAINT AIRCRAFT_PRIMARY_KEY PRIMARY KEY (AIRCRAFT_ID));

INSERT INTO AIRCRAFT VALUES ('1155884','HAWKER','HURRICANE', '10', '1011', '2016-06-15');
INSERT INTO AIRCRAFT VALUES ('3344584','BOEING','B-17', '5', '2022', '2016-06-15');
INSERT INTO AIRCRAFT VALUES ('6589427','AVRO','504', '6', '3033', '2016-09-10');
INSERT INTO AIRCRAFT VALUES ('6542873','CESSNA','206', '3', '4044', '2016-10-25');
INSERT INTO AIRCRAFT VALUES ('8843373','BOEING','B-10', '4', '3033', '2017-03-15');
INSERT INTO AIRCRAFT VALUES ('1144884','NOWING','CRASHER', '2', '1011', '2017-02-04');
INSERT INTO AIRCRAFT VALUES ('2255444','SQUAWKER','C-15', '4', '1011', '2017-04-12');

DROP TABLE FLIGHTS;

CREATE TABLE FLIGHTS (
STUDENT_ID          		CHAR(14) NOT NULL,
AIRCRAFT_ID			CHAR(14) NOT NULL,
TUTOR_ID			CHAR(14) NOT NULL,
FLIGHT_DATE		         	DATE,
FLIGHT_DURATION		SMALLINT(4),
FEE				INTEGER,
LOCATION_ID			CHAR(14),
CONSTRAINT FLIGHTS_FOREIGN_KEY FOREIGN KEY (STUDENT_ID) REFERENCES STUDENTS (STUDENT_ID),
CONSTRAINT FLIGHTS_FN_KEY FOREIGN KEY (TUTOR_ID) REFERENCES TUTORS (TUTOR_ID),
CONSTRAINT FLIGHTS_F_KEY FOREIGN KEY (AIRCRAFT_ID) REFERENCES AIRCRAFT (AIRCRAFT_ID),
CONSTRAINT FLIGHTS_PRIMARY_KEY PRIMARY KEY (STUDENT_ID, TUTOR_ID, AIRCRAFT_ID, FLIGHT_DATE));

INSERT INTO FLIGHTS VALUES ('0011','1155884', '0001','2016-01-10', '1', '250.00', '4044');
INSERT INTO FLIGHTS VALUES ('0033', '6589427', '0002','2016-02-04', '1', '250.00', '2022');
INSERT INTO FLIGHTS VALUES ('0022', '6542873', '0002','2016-02-15', '1', '250.00', '1011');
INSERT INTO FLIGHTS VALUES ('0044', '3344584', '0003','2016-03-03', '1', '250.00', '3033');
INSERT INTO FLIGHTS VALUES ('0011', '6589427', '0007','2016-04-05', '2', '500.00', '1011');
INSERT INTO FLIGHTS VALUES ('0044', '1155884', '0008','2016-05-15', '3', '750.00', '3033');
INSERT INTO FLIGHTS VALUES ('0011', '6542873', '0008','2016-06-15', '2', '500.00', '1011');
INSERT INTO FLIGHTS VALUES ('0022', '6542873', '0008','2016-09-15', '1', '250.00',  '2022');
INSERT INTO FLIGHTS VALUES ('0044', '6589427', '0008','2016-10-15', '2', '500.00',  '4044');

INSERT INTO FLIGHTS VALUES ('0011', '1155884', '0008','2016-10-16', '3', '500.00',  '4044');

INSERT INTO FLIGHTS VALUES ('0033', '1155884', '0002','2016-10-12', '2', '500.00',  '4044');

INSERT INTO FLIGHTS VALUES ('0033', '1155884', '0003','2016-10-12', '2', '500.00',  '8088');